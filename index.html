<!DOCTYPE html>
<html style="font-size: 16px;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
  <title>Piano</title>
  <link rel="stylesheet" href="css.css" media="screen">

</head>

<body>
  <section class="u-align-center u-clearfix u-section-1">
    <div class="u-clearfix u-sheet u-sheet-1">
      <!-- 白鍵 -->
      <div data-key="90" class="key u-border-2 u-border-black u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-1">
        <kbd>Z</kbd>
        <span class="sound">DO</span>
      </div>
      <div data-key="88" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-2"> 
        <kbd>X</kbd>
        <span class="sound">RE</span>
      </div>
      <div data-key="67" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-3"> 
        <kbd>C</kbd>
        <span class="sound">MI</span>
      </div>
        <div data-key="86" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-4">
      <kbd>V</kbd>
      <span class="sound">FA</span>
      </div>
      <div data-key="66" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-5">
        <kbd>B</kbd>
        <span class="sound">SO</span>
      </div>
      <div data-key="78" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-6">
        <kbd>N</kbd>
        <span class="sound">LA</span>
      </div>
      <div data-key="77" class="key u-border-2 u-border-grey-dark-1 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-7">
        <kbd>M</kbd>
        <span class="sound">SI</span>
      </div>
      <div class="u-black u-border-2 u-border-grey-90 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-8">
      </div>
      <div
        class="u-black u-border-2 u-border-grey-90 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-9">
      </div>
      <div
        class="u-black u-border-2 u-border-grey-90 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-10">
      </div>
      <div
        class="u-black u-border-2 u-border-grey-90 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-11">
      </div>
      <div 
        class="u-black u-border-2 u-border-grey-90 u-hidden-md u-hidden-sm u-hidden-xs u-shape u-shape-rectangle u-shape-12">
      </div>
    </div>
  </section>

  <audio data-key="90" src="./sounds/pianoC.mp3"></audio>
  <audio data-key="88" src="./sounds/pianoD.mp3"></audio>
  <audio data-key="67" src="./sounds/pianoE.mp3"></audio>
  <audio data-key="86" src="./sounds/pianoF.mp3"></audio>
  <audio data-key="66" src="./sounds/pianoG.mp3"></audio>
  <audio data-key="78" src="./sounds/pianoA.mp3"></audio>
  <audio data-key="77" src="./sounds/pianoB.mp3"></audio>

  <script>
    function playsound(e){
      const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
      const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
      if(!audio) return; //按沒有的健

      audio.currentTime = 0; //可重複按同個音    
      audio.play();

      key.classList.add('playing'); //增加按鍵後css效果
      
      //停止按鍵後css效果
      function removeTransition(e){
        this.classList.remove('playing');
      }

      const keys = document.querySelectorAll('.key');
      keys.forEach(key => key.addEventListener('transitionend',removeTransition))
    };
    window.addEventListener('keydown',playsound)
  </script>
</body>
</html>